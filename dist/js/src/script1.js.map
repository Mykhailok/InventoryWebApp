{"version":3,"sources":["../../../js/src/script1.js"],"names":["myData","id","name","manufac","owner","price","descrip","Model","data","self","slice","editItem","item","index","length","console","log","removeItem","splice","View","model","init","renderList","List","_","template","$","html","content","Controller","view","wrapEdit","document","getElementById","inpID","inpName","inpManufac","inpOwner","inpPrice","inpDescrip","on","showEditPage","editSaveItem","getAttribute","value","setAttribute","tempItem","controller","grid","onclick","e","target","tagName","sortGrid","cellIndex","colNum","type","tbody","getElementsByTagName","rowsArray","call","rows","compare","rowA","rowB","cells","innerHTML","sort","removeChild","i","appendChild"],"mappings":"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","file":"script1.js","sourcesContent":["/**\r\n * Created by Shishkov on 26.06.2017.\r\n */\r\n\r\n'use strict';\r\nlet myData;\r\nmyData =[\r\n\r\n\t{\r\n\t\tid:1,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:2,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:3,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:4,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:5,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:6,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:7,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:8,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:9,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:10,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:11,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:12,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:13,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:14,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:15,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:16,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:17,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:18,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:19,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t}\r\n\r\n];\r\n\r\nfunction Model(data) {\r\n\tlet self = this;\r\n\tself.data = data.slice();\r\n\tself.editItem = function (item,index) {\r\n\t\tif (item.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconsole.log ('1editItemModel');\r\n\t\tself.data[index].id = item.id;\r\n\t\tself.data[index].name = item.name;\r\n\t\tself.data[index].manufac = item.manufac;\r\n\t\tself.data[index].owner = item.owner;\r\n\t\tself.data[index].price = item.price;\r\n\t\tself.data[index].descrip = item.descrip;\r\n\t\tconsole.log('editItemModel self.data[index].name '+ self.data[index].name);\r\n\t};\r\n\tself.removeItem = function (index) {\r\n\t\tconsole.log ('2removeItemModel');\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.data.splice(index,1);\r\n\t\treturn self.data;\r\n\t};\r\n}\r\n/////////////////////////////////////////////////////////////////\r\nfunction View(model) {\r\n\tlet self = this;\r\n\tfunction init() {\r\n\t\tself.renderList(model.data);\r\n\t}\r\n\r\n\tself.renderList = function (data) {\r\n\t\tlet List = _.template($('#table-template').html());\r\n\t\tlet content = List({'data':data});\r\n\t\t$('.tbody').html(content);\r\n\t\tconsole.log ('3renderList');\r\n\t};\r\n\tinit();\r\n}\r\n///////////////////////////////////////////////////////////////////////\r\nfunction Controller(model,view) {\r\n\tlet wrapEdit = document.getElementById('wrEdit');\r\n\tlet inpID = document.getElementById('editId');\r\n\tlet inpName = document.getElementById('editName');\r\n\tlet inpManufac = document.getElementById('editManufac');\r\n\tlet inpOwner = document.getElementById('editOwner');\r\n\tlet inpPrice = document.getElementById('editPrice');\r\n\tlet inpDescrip = document.getElementById('editDescrip');\r\n\r\n\t$('.btnShowEditPage').on('click',showEditPage);\r\n\t$('#btnEditSave').on('click',editSaveItem);\r\n\t$('.delBtn').on('click',removeItem);\r\n\r\n\tfunction showEditPage() {\r\n\t\tconsole.log ('4showEditPageController');\r\n\t\tlet index = this.getAttribute('data-value')-1;\r\n\t\tinpID.value = myData[index].id;\r\n\t\tinpName.value = myData[index].name;\r\n\t\tinpManufac.value = myData[index].manufac;\r\n\t\tinpOwner.value = myData[index].owner;\r\n\t\tinpPrice.value = myData[index].price;\r\n\t\tinpDescrip.value = myData[index].descrip;\r\n\t\twrapEdit.setAttribute('class','wrapEditVisible');\r\n\t}\r\n\tfunction editSaveItem() {\r\n\t\tconsole.log ('5editSaveItemController');\r\n\t\tlet index = inpID.value - 1;\r\n\t\tlet tempItem ={};\r\n\t\ttempItem.id = inpID.value;\r\n\t\ttempItem.name = inpName.value;\r\n\t\ttempItem.manufac = inpManufac.value;\r\n\t\ttempItem.owner = inpOwner.value;\r\n\t\ttempItem.price = inpPrice.value;\r\n\t\ttempItem.descrip = inpDescrip.value;\r\n\t\twrapEdit.setAttribute('class','wrapEditHide');\r\n\t\tmodel.editItem(tempItem, index);\r\n\t\tview.renderList(model.data);\r\n\t}\r\n\r\n\tfunction removeItem() {\r\n\t\tconsole.log('6removeItemController');\r\n\t\tlet index = this.getAttribute('data-value') - 1;\r\n\t\tmodel.removeItem(index);\r\n\t\tview.renderList(model.data);\r\n\t}\r\n}\r\n////////////////////////////////////////////////////////////////\r\n\r\n\r\n$(function () {\r\n\tlet model = new Model(myData);\r\n\tlet view = new View(model);\r\n\tlet controller = new Controller(model,view);\r\n\r\n///////////////////////////////////////////////////////////////////////////\r\n\t//sort \r\n\tlet grid = document.getElementById('grid');\r\n\r\n\tgrid.onclick = function(e) {\r\n\t\tif (e.target.tagName !== 'TH') return;\r\n\r\n\t\t// Если TH -- сортируем\r\n\t\tsortGrid(e.target.cellIndex, e.target.getAttribute('data-type'));\r\n\t};\r\n\r\n\tfunction sortGrid(colNum, type) {\r\n\t\tlet tbody = grid.getElementsByTagName('tbody')[0];\r\n\r\n\t\t// Составить массив из TR\r\n\t\tlet rowsArray = [].slice.call(tbody.rows);\r\n\r\n\t\t// определить функцию сравнения, в зависимости от типа\r\n\t\tlet compare;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'number':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'string':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// сортировать\r\n\t\trowsArray.sort(compare);\r\n\r\n\t\t// Убрать tbody из большого DOM документа для лучшей производительности\r\n\t\tgrid.removeChild(tbody);\r\n\r\n\t\t// добавить результат в нужном порядке в TBODY\r\n\t\t// они автоматически будут убраны со старых мест и вставлены в правильном порядке\r\n\t\tfor (let i = 0; i < rowsArray.length; i++) {\r\n\t\t\ttbody.appendChild(rowsArray[i]);\r\n\t\t}\r\n\t\tgrid.appendChild(tbody);\r\n\t}\r\n////////////////////////////////////////////////////////////////////\r\n\r\n});"]}