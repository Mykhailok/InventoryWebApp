{"version":3,"sources":["../../../js/src/script1.js"],"names":["myData","id","name","manufac","owner","price","descrip","Model","data","self","slice","editItem","item","index","length","removeItem","splice","View","model","init","renderList","htmlTableTemplate","document","getElementById","innerHTML","list","_","template","listContent","tbody","Controller","view","wrapEdit","inpID","inpName","inpManufac","inpOwner","inpPrice","inpDescrip","btnShowEditPage","getElementsByClassName","btnEditSave","delBtn","rows","getElementsByTagName","grid","i","addEventListener","showEditPage","delRow","EditSave","getAttribute","tr","parentNode","deleteRow","rowIndex","value","setAttribute","tempItem","td","onclick","e","target","tagName","sortGrid","cellIndex","colNum","type","ttbody","rowsArray","call","compare","rowA","rowB","cells","sort","removeChild","appendChild","controller"],"mappings":"AAAA;;;;AAIA;;AACA,IAAIA,eAAJ;AACAA,SAAQ,CAEP;AACCC,KAAG,CADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,MAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;;AANT,CAFO,EAWP;AACCL,KAAG,CADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,IAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CAXO,EAmBP;AACCL,KAAG,CADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CAnBO,EA2BP;AACCL,KAAG,CADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,MAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CA3BO,EAmCP;AACCL,KAAG,CADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,IAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CAnCO,EA2CP;AACCL,KAAG,CADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CA3CO,EAmDP;AACCL,KAAG,CADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,MAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CAnDO,EA2DP;AACCL,KAAG,CADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,IAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CA3DO,EAmEP;AACCL,KAAG,CADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CAnEO,EA2EP;AACCL,KAAG,EADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,MAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;;AANT,CA3EO,EAoFP;AACCL,KAAG,EADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,IAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CApFO,EA4FP;AACCL,KAAG,EADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CA5FO,EAoGP;AACCL,KAAG,EADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CApGO,EA4GP;AACCL,KAAG,EADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,MAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;;AANT,CA5GO,EAqHP;AACCL,KAAG,EADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,IAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CArHO,EA6HP;AACCL,KAAG,EADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CA7HO,EAqIP;AACCL,KAAG,EADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,MAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CArIO,EA6IP;AACCL,KAAG,EADJ;AAECC,OAAK,UAFN;AAGCC,UAAQ,IAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,IALP;AAMCC,UAAQ;AANT,CA7IO,EAqJP;AACCL,KAAG,EADJ;AAECC,OAAK,OAFN;AAGCC,UAAQ,SAHT;AAICC,QAAM,OAJP;AAKCC,QAAM,GALP;AAMCC,UAAQ;AANT,CArJO,CAAR;;AAiKA,SAASC,KAAT,CAAeC,IAAf,EAAqB;AACpB,KAAIC,OAAO,IAAX;AACAA,MAAKD,IAAL,GAAYA,KAAKE,KAAL,EAAZ;AACAD,MAAKE,QAAL,GAAgB,UAAUC,IAAV,EAAeC,KAAf,EAAsB;AACrC,MAAID,KAAKE,MAAL,KAAgB,CAApB,EAAuB;AACtB;AACA;AACDL,OAAKD,IAAL,CAAUK,KAAV,EAAiBZ,EAAjB,GAAsBW,KAAKX,EAA3B;AACAQ,OAAKD,IAAL,CAAUK,KAAV,EAAiBX,IAAjB,GAAwBU,KAAKV,IAA7B;AACAO,OAAKD,IAAL,CAAUK,KAAV,EAAiBV,OAAjB,GAA2BS,KAAKT,OAAhC;AACAM,OAAKD,IAAL,CAAUK,KAAV,EAAiBT,KAAjB,GAAyBQ,KAAKR,KAA9B;AACAK,OAAKD,IAAL,CAAUK,KAAV,EAAiBR,KAAjB,GAAyBO,KAAKP,KAA9B;AACAI,OAAKD,IAAL,CAAUK,KAAV,EAAiBP,OAAjB,GAA2BM,KAAKN,OAAhC;AACA,EAVD;AAWAG,MAAKM,UAAL,GAAkB,UAAUF,KAAV,EAAiB;AAClC,MAAIA,UAAU,CAAC,CAAf,EAAkB;AACjB;AACA;AACDJ,OAAKD,IAAL,CAAUQ,MAAV,CAAiBH,KAAjB,EAAuB,CAAvB;AACA,SAAOJ,KAAKD,IAAZ;AACA,EAND;AAOA;AACD;AACA,SAASS,IAAT,CAAcC,KAAd,EAAqB;AACpB,KAAIT,OAAO,IAAX;AACA,UAASU,IAAT,GAAgB;AACfV,OAAKW,UAAL,CAAgBF,MAAMV,IAAtB;AACA;AACDC,MAAKW,UAAL,GAAkB,UAAUZ,IAAV,EAAgB;AACjC,MAAIa,oBAAoBC,SAASC,cAAT,CAAwB,gBAAxB,EAA0CC,SAAlE;AACA;AACA,MAAIC,OAAOC,EAAEC,QAAF,CAAWN,iBAAX,CAAX;AACA,MAAIO,cAAcH,KAAK,EAAC,QAAOjB,IAAR,EAAL,CAAlB;AACAqB,QAAML,SAAN,GAAkBI,WAAlB;AACA,EAND;AAOAT;AACA;AACD;AACA,SAASW,UAAT,CAAoBZ,KAApB,EAA0Ba,IAA1B,EAAgC;AAC/B,KAAIC,WAAWV,SAASC,cAAT,CAAwB,QAAxB,CAAf;AACA,KAAIU,QAAQX,SAASC,cAAT,CAAwB,QAAxB,CAAZ;AACA,KAAIW,UAAUZ,SAASC,cAAT,CAAwB,UAAxB,CAAd;AACA,KAAIY,aAAab,SAASC,cAAT,CAAwB,aAAxB,CAAjB;AACA,KAAIa,WAAWd,SAASC,cAAT,CAAwB,WAAxB,CAAf;AACA,KAAIc,WAAWf,SAASC,cAAT,CAAwB,WAAxB,CAAf;AACA,KAAIe,aAAahB,SAASC,cAAT,CAAwB,aAAxB,CAAjB;AACA,KAAIgB,kBAAkBjB,SAASkB,sBAAT,CAAgC,iBAAhC,CAAtB;AACA,KAAIC,cAAcnB,SAASC,cAAT,CAAwB,aAAxB,CAAlB;AACA,KAAImB,SAASpB,SAASkB,sBAAT,CAAgC,QAAhC,CAAb;AACA,KAAIX,QAAQP,SAASC,cAAT,CAAwB,OAAxB,CAAZ;AACA,KAAIoB,OAAOd,MAAMe,oBAAN,CAA2B,IAA3B,CAAX;AACA,KAAIC,OAAOvB,SAASC,cAAT,CAAwB,MAAxB,CAAX;AACD;AACC,MAAK,IAAIuB,IAAI,CAAb,EAAgBA,IAAIP,gBAAgBzB,MAApC,EAA4CgC,GAA5C,EAAiD;AAChDP,kBAAgBO,CAAhB,EAAmBC,gBAAnB,CAAoC,OAApC,EAA6CC,YAA7C,EAA0D,KAA1D;AACA;AACF;AACC,MAAK,IAAIF,KAAI,CAAb,EAAgBA,KAAIJ,OAAO5B,MAA3B,EAAmCgC,IAAnC,EAAwC;AACvCJ,SAAOI,EAAP,EAAUC,gBAAV,CAA2B,OAA3B,EAAoCE,MAApC,EAA2C,KAA3C;AACA;AACF;AACCR,aAAYM,gBAAZ,CAA6B,OAA7B,EAAsCG,QAAtC,EAA+C,KAA/C;;AAGD;AACA;AACC,UAASD,MAAT,GAAkB;AACjB,MAAIhD,KAAK,CAAC,KAAKkD,YAAL,CAAkB,YAAlB,CAAV;AACA;AACA,MAAItC,cAAJ;AACA,OAAK,IAAIiC,GAAT,IAAe5B,MAAMV,IAArB,EAA2B;AAC1B,OAAIU,MAAMV,IAAN,CAAWsC,GAAX,EAAc7C,EAAd,KAAqBA,EAAzB,EAA6B;AAC5BY,YAAQiC,GAAR;AACA;AACD;AACD;AACA5B,QAAMH,UAAN,CAAiBF,KAAjB;AACA,MAAIuC,KAAK,KAAKC,UAAL,CAAgBA,UAAhB,CAA2BA,UAApC;AACAR,OAAKS,SAAL,CAAeF,GAAGG,QAAlB;AACA;;AAEF;AACA;AACC,UAASP,YAAT,GAAwB;AACvB;AACA,MAAI/C,KAAK,CAAC,KAAKkD,YAAL,CAAkB,YAAlB,CAAV;AACA,MAAItC,cAAJ;AACA,OAAK,IAAIiC,GAAT,IAAe5B,MAAMV,IAArB,EAA2B;AAC1B,OAAIU,MAAMV,IAAN,CAAWsC,GAAX,EAAc7C,EAAd,KAAqBA,EAAzB,EAA6B;AAC5BY,YAAQiC,GAAR;AACA;AACD;AACDb,QAAMuB,KAAN,GAAcxD,OAAOa,KAAP,EAAcZ,EAA5B;AACAiC,UAAQsB,KAAR,GAAgBxD,OAAOa,KAAP,EAAcX,IAA9B;AACAiC,aAAWqB,KAAX,GAAmBxD,OAAOa,KAAP,EAAcV,OAAjC;AACAiC,WAASoB,KAAT,GAAiBxD,OAAOa,KAAP,EAAcT,KAA/B;AACAiC,WAASmB,KAAT,GAAiBxD,OAAOa,KAAP,EAAcR,KAA/B;AACAiC,aAAWkB,KAAX,GAAmBxD,OAAOa,KAAP,EAAcP,OAAjC;AACA0B,WAASyB,YAAT,CAAsB,OAAtB,EAA+B,iBAA/B;AACA;AACF;AACE,UAASP,QAAT,GAAoB;AACpBlB,WAASyB,YAAT,CAAsB,OAAtB,EAA8B,cAA9B;AACA,MAAIxD,KAAK,CAACgC,MAAMuB,KAAhB;AACA,MAAI3C,cAAJ;AACA,OAAK,IAAIiC,GAAT,IAAe5B,MAAMV,IAArB,EAA2B;AAC1B,OAAIU,MAAMV,IAAN,CAAWsC,GAAX,EAAc7C,EAAd,KAAqBA,EAAzB,EAA6B;AAC5BY,YAAQiC,GAAR;AACA;AACD;AACD,MAAIY,WAAU,EAAd;;AAEA;AACAA,WAASzD,EAAT,GAAcgC,MAAMuB,KAApB;AACAE,WAASxD,IAAT,GAAgBgC,QAAQsB,KAAxB;AACAE,WAASvD,OAAT,GAAmBgC,WAAWqB,KAA9B;AACAE,WAAStD,KAAT,GAAiBgC,SAASoB,KAA1B;AACAE,WAASrD,KAAT,GAAiBgC,SAASmB,KAA1B;AACAE,WAASpD,OAAT,GAAmBgC,WAAWkB,KAA9B;AACAtC,QAAMP,QAAN,CAAe+C,QAAf,EAAyB7C,KAAzB;;AAEF;AACE,OAAK,IAAIiC,MAAE,CAAX,EAAcA,MAAIH,KAAK7B,MAAvB,EAAgCgC,KAAhC,EAAoC;AACnC,OAAG,CAACH,KAAKG,GAAL,EAAQK,YAAR,CAAqB,YAArB,CAAD,KAAwClD,EAA3C,EAA8C;AAC7C;AACA,QAAI0D,KAAKhB,KAAKG,GAAL,EAAQF,oBAAR,CAA6B,IAA7B,CAAT;AACA;AACAe,OAAG,CAAH,EAAMnC,SAAN,GAAkBS,MAAMuB,KAAxB;AACAG,OAAG,CAAH,EAAMnC,SAAN,GAAkBU,QAAQsB,KAA1B;AACAG,OAAG,CAAH,EAAMnC,SAAN,GAAkBW,WAAWqB,KAA7B;AACAG,OAAG,CAAH,EAAMnC,SAAN,GAAkBY,SAASoB,KAA3B;AACAG,OAAG,CAAH,EAAMnC,SAAN,GAAkBa,SAASmB,KAA3B;AACAG,OAAG,CAAH,EAAMnC,SAAN,GAAkBc,WAAWkB,KAA7B;AACA;AACD;AACD;AACDX,MAAKe,OAAL,GAAe,UAAUC,CAAV,EAAa;AAC3B,MAAIA,EAAEC,MAAF,CAASC,OAAT,KAAqB,IAAzB,EAA+B;;AAE/B;AACAC,WAASH,EAAEC,MAAF,CAASG,SAAlB,EAA6BJ,EAAEC,MAAF,CAASX,YAAT,CAAsB,WAAtB,CAA7B;AACA,EALD;AAMA,UAASa,QAAT,CAAkBE,MAAlB,EAA0BC,IAA1B,EAAgC;AAC/B,MAAIC,SAASvB,KAAKD,oBAAL,CAA0B,OAA1B,EAAmC,CAAnC,CAAb;;AAEA;AACA,MAAIyB,YAAY,GAAG3D,KAAH,CAAS4D,IAAT,CAAcF,OAAOzB,IAArB,CAAhB;;AAEA;AACA,MAAI4B,gBAAJ;;AAEA,UAAQJ,IAAR;AACC,QAAK,QAAL;AACCI,cAAU,iBAASC,IAAT,EAAeC,IAAf,EAAqB;AAC9B,YAAOD,KAAKE,KAAL,CAAWR,MAAX,EAAmB1C,SAAnB,GAA+BiD,KAAKC,KAAL,CAAWR,MAAX,EAAmB1C,SAAzD;AACA,KAFD;AAGA;AACD,QAAK,QAAL;AACC+C,cAAU,iBAASC,IAAT,EAAeC,IAAf,EAAqB;AAC9B,YAAOD,KAAKE,KAAL,CAAWR,MAAX,EAAmB1C,SAAnB,GAA+BiD,KAAKC,KAAL,CAAWR,MAAX,EAAmB1C,SAAlD,GAA8D,CAA9D,GAAkE,CAAC,CAA1E;AACA,KAFD;AAGA;AAVF;;AAaA;AACA6C,YAAUM,IAAV,CAAeJ,OAAf;;AAEA;AACA1B,OAAK+B,WAAL,CAAiBR,MAAjB;;AAEA;AACA;AACA,OAAK,IAAItB,MAAI,CAAb,EAAgBA,MAAIuB,UAAUvD,MAA9B,EAAsCgC,KAAtC,EAA2C;AAC1CsB,UAAOS,WAAP,CAAmBR,UAAUvB,GAAV,CAAnB;AACA;AACDD,OAAKgC,WAAL,CAAiBT,MAAjB;AACA;AACD;;AAED;AACA9C,SAASyB,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACzD,KAAI7B,QAAQ,IAAIX,KAAJ,CAAUP,MAAV,CAAZ;AACA,KAAI+B,OAAO,IAAId,IAAJ,CAASC,KAAT,CAAX;AACA,KAAI4D,aAAa,IAAIhD,UAAJ,CAAeZ,KAAf,EAAqBa,IAArB,CAAjB;AAIA,CAPD","file":"script1.js","sourcesContent":["/**\r\n * Created by Shishkov on 26.06.2017.\r\n */\r\n\r\n'use strict';\r\nlet myData;\r\nmyData =[\r\n\r\n\t{\r\n\t\tid:1,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:2,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:3,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:4,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:5,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:6,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:7,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:8,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:9,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:10,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:11,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:12,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:13,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:14,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:15,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:16,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:17,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:18,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:19,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t}\r\n\r\n];\r\n\r\n\r\nfunction Model(data) {\r\n\tlet self = this;\r\n\tself.data = data.slice();\r\n\tself.editItem = function (item,index) {\r\n\t\tif (item.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.data[index].id = item.id;\r\n\t\tself.data[index].name = item.name;\r\n\t\tself.data[index].manufac = item.manufac;\r\n\t\tself.data[index].owner = item.owner;\r\n\t\tself.data[index].price = item.price;\r\n\t\tself.data[index].descrip = item.descrip;\r\n\t};\r\n\tself.removeItem = function (index) {\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.data.splice(index,1);\r\n\t\treturn self.data;\r\n\t};\r\n}\r\n/////////////////////////////////////////////////////////////////\r\nfunction View(model) {\r\n\tlet self = this;\r\n\tfunction init() {\r\n\t\tself.renderList(model.data);\r\n\t}\r\n\tself.renderList = function (data) {\r\n\t\tlet htmlTableTemplate = document.getElementById('table-template').innerHTML;\r\n\t\t// let tbody = document.getElementsByClassName('ttbody');//НЕ РАБОТАЕТ\r\n\t\tlet list = _.template(htmlTableTemplate);\r\n\t\tlet listContent = list({'data':data});\r\n\t\ttbody.innerHTML = listContent;\r\n\t};\r\n\tinit();\r\n}\r\n///////////////////////////////////////////////////////////////////////\r\nfunction Controller(model,view) {\r\n\tlet wrapEdit = document.getElementById('wrEdit');\r\n\tlet inpID = document.getElementById('editId');\r\n\tlet inpName = document.getElementById('editName');\r\n\tlet inpManufac = document.getElementById('editManufac');\r\n\tlet inpOwner = document.getElementById('editOwner');\r\n\tlet inpPrice = document.getElementById('editPrice');\r\n\tlet inpDescrip = document.getElementById('editDescrip');\r\n\tlet btnShowEditPage = document.getElementsByClassName('btnShowEditPage');\r\n\tlet btnEditSave = document.getElementById('btnEditSave');\r\n\tlet delBtn = document.getElementsByClassName('delBtn');\r\n\tlet tbody = document.getElementById('tbody');\r\n\tlet rows = tbody.getElementsByTagName('tr');\r\n\tlet grid = document.getElementById('grid');\r\n//слушаем клики по btnShowEditPage\r\n\tfor (let i = 0; i < btnShowEditPage.length; i++) {\r\n\t\tbtnShowEditPage[i].addEventListener(\"click\", showEditPage,false);\r\n\t}\r\n//слушаем клики по btnShowEditPage\r\n\tfor (let i = 0; i < delBtn.length; i++) {\r\n\t\tdelBtn[i].addEventListener(\"click\", delRow,false);\r\n\t}\r\n//слушаем клики по btnEditSave\r\n\tbtnEditSave.addEventListener(\"click\", EditSave,false);\r\n\r\n\r\n//удаляем строки\r\n//////////////////////////////////////////////////////////////////////////////\r\n\tfunction delRow() {\r\n\t\tlet id = +this.getAttribute('data-value');\r\n\t\t// alert('delRow '+ id);\r\n\t\tlet index;\r\n\t\tfor (let i  in model.data) {\r\n\t\t\tif (model.data[i].id === id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// alert('index '+ index);\r\n\t\tmodel.removeItem(index);\r\n\t\tlet tr = this.parentNode.parentNode.parentNode;\r\n\t\tgrid.deleteRow(tr.rowIndex);\r\n\t}\r\n\r\n////////////////////////////////////////////////////////////////\r\n//показываем станицу редактирования\r\n\tfunction showEditPage() {\r\n\t\t// alert('showEditPage');\r\n\t\tlet id = +this.getAttribute('data-value');\r\n\t\tlet index;\r\n\t\tfor (let i  in model.data) {\r\n\t\t\tif (model.data[i].id === id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinpID.value = myData[index].id;\r\n\t\tinpName.value = myData[index].name;\r\n\t\tinpManufac.value = myData[index].manufac;\r\n\t\tinpOwner.value = myData[index].owner;\r\n\t\tinpPrice.value = myData[index].price;\r\n\t\tinpDescrip.value = myData[index].descrip;\r\n\t\twrapEdit.setAttribute('class', 'wrapEditVisible');\r\n\t}\r\n//сохраняем изменения после редактирования\r\n\t function EditSave() {\r\n\t\twrapEdit.setAttribute('class','wrapEditHide');\r\n\t\tlet id = +inpID.value ;\r\n\t\tlet index ;\r\n\t\tfor (let i  in model.data) {\r\n\t\t\tif (model.data[i].id === id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet tempItem ={};\r\n\r\n\t\t//редактируем поля элемента\r\n\t\ttempItem.id = inpID.value;\r\n\t\ttempItem.name = inpName.value;\r\n\t\ttempItem.manufac = inpManufac.value;\r\n\t\ttempItem.owner = inpOwner.value;\r\n\t\ttempItem.price = inpPrice.value;\r\n\t\ttempItem.descrip = inpDescrip.value;\r\n\t\tmodel.editItem(tempItem, index);\r\n\r\n//находим нужную строку\r\n\t\tfor (let i=0; i < rows.length ; i++){\r\n\t\t\tif(+rows[i].getAttribute('data-value') === id){\r\n\t\t\t\t//находим поля строки\r\n\t\t\t\tlet td = rows[i].getElementsByTagName('td');\r\n\t\t\t\t//перерисуем редактируемую строку\r\n\t\t\t\ttd[0].innerHTML = inpID.value;\r\n\t\t\t\ttd[1].innerHTML = inpName.value;\r\n\t\t\t\ttd[2].innerHTML = inpManufac.value;\r\n\t\t\t\ttd[3].innerHTML = inpOwner.value;\r\n\t\t\t\ttd[4].innerHTML = inpPrice.value;\r\n\t\t\t\ttd[5].innerHTML = inpDescrip.value;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tgrid.onclick = function (e) {\r\n\t\tif (e.target.tagName !== 'TH') return;\r\n\r\n\t\t// Если TH -- сортируем\r\n\t\tsortGrid(e.target.cellIndex, e.target.getAttribute('data-type'));\r\n\t};\r\n\tfunction sortGrid(colNum, type) {\r\n\t\tlet ttbody = grid.getElementsByTagName('tbody')[0];\r\n\r\n\t\t// Составить массив из TR\r\n\t\tlet rowsArray = [].slice.call(ttbody.rows);\r\n\r\n\t\t// определить функцию сравнения, в зависимости от типа\r\n\t\tlet compare;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'number':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'string':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// сортировать\r\n\t\trowsArray.sort(compare);\r\n\r\n\t\t// Убрать ttbody из большого DOM документа для лучшей производительности\r\n\t\tgrid.removeChild(ttbody);\r\n\r\n\t\t// добавить результат в нужном порядке в TBODY\r\n\t\t// они автоматически будут убраны со старых мест и вставлены в правильном порядке\r\n\t\tfor (let i = 0; i < rowsArray.length; i++) {\r\n\t\t\tttbody.appendChild(rowsArray[i]);\r\n\t\t}\r\n\t\tgrid.appendChild(ttbody);\r\n\t}\r\n}\r\n\r\n////////////////////////////////////////////////////////////////\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tlet model = new Model(myData);\r\n\tlet view = new View(model);\r\n\tlet controller = new Controller(model,view);\r\n\r\n\r\n\r\n});\r\n\r\n"]}