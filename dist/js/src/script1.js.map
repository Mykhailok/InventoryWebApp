{"version":3,"sources":["../../../js/src/script1.js"],"names":["$","myData","id","name","manufac","owner","price","descrip","edit","mdelete","List","_","template","html","content","grid","document","getElementById","onclick","e","target","tagName","sortGrid","cellIndex","getAttribute","colNum","type","tbody","getElementsByTagName","rowsArray","slice","call","rows","compare","rowA","rowB","cells","innerHTML","sort","removeChild","i","length","appendChild"],"mappings":"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","file":"script1.js","sourcesContent":["/**\r\n * Created by Shishkov on 26.06.2017.\r\n */\r\n\r\n'use strict';\r\n$(function () {\r\n\r\n\tlet myData;\r\n\tmyData =[\r\n\t\t{\r\n\t\t\tid:1,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'asus',\r\n\t\t\towner:'Masha',\r\n\t\t\tprice:1200,\r\n\t\t\tdescrip:'black',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:2,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'hp',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:1000,\r\n\t\t\tdescrip:'white',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:3,\r\n\t\t\tname:'phone',\r\n\t\t\tmanufac:'philips',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:500,\r\n\t\t\tdescrip:'red',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:4,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'asus',\r\n\t\t\towner:'Masha',\r\n\t\t\tprice:1200,\r\n\t\t\tdescrip:'black',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:5,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'hp',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:1000,\r\n\t\t\tdescrip:'white',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:6,\r\n\t\t\tname:'phone',\r\n\t\t\tmanufac:'philips',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:500,\r\n\t\t\tdescrip:'red',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:7,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'asus',\r\n\t\t\towner:'Masha',\r\n\t\t\tprice:1200,\r\n\t\t\tdescrip:'black',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:8,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'hp',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:1000,\r\n\t\t\tdescrip:'white',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:9,\r\n\t\t\tname:'phone',\r\n\t\t\tmanufac:'philips',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:500,\r\n\t\t\tdescrip:'red',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:10,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'asus',\r\n\t\t\towner:'Masha',\r\n\t\t\tprice:1200,\r\n\t\t\tdescrip:'black',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:11,\r\n\t\t\tname:'notebook',\r\n\t\t\tmanufac:'hp',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:1000,\r\n\t\t\tdescrip:'white',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t},\r\n\t\t{\r\n\t\t\tid:12,\r\n\t\t\tname:'phone',\r\n\t\t\tmanufac:'philips',\r\n\t\t\towner:'Petya',\r\n\t\t\tprice:500,\r\n\t\t\tdescrip:'red',\r\n\t\t\tedit:false,\r\n\t\t\tmdelete:false\r\n\t\t}\r\n\r\n\t\t];\r\n\r\n\tlet List = _.template($('#table-template').html());\r\n\tlet content = List({'data':myData});\r\n\t$('.tbody').html(content);\r\n///////////////////////////////////////////////////////////////////////////\r\n\t//sort\r\n\tlet grid = document.getElementById('grid');\r\n\r\n\tgrid.onclick = function(e) {\r\n\t\tif (e.target.tagName != 'TH') return;\r\n\r\n\t\t// Если TH -- сортируем\r\n\t\tsortGrid(e.target.cellIndex, e.target.getAttribute('data-type'));\r\n\t};\r\n\r\n\tfunction sortGrid(colNum, type) {\r\n\t\tlet tbody = grid.getElementsByTagName('tbody')[0];\r\n\r\n\t\t// Составить массив из TR\r\n\t\tlet rowsArray = [].slice.call(tbody.rows);\r\n\r\n\t\t// определить функцию сравнения, в зависимости от типа\r\n\t\tlet compare;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'number':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'string':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// сортировать\r\n\t\trowsArray.sort(compare);\r\n\r\n\t\t// Убрать tbody из большого DOM документа для лучшей производительности\r\n\t\tgrid.removeChild(tbody);\r\n\r\n\t\t// добавить результат в нужном порядке в TBODY\r\n\t\t// они автоматически будут убраны со старых мест и вставлены в правильном порядке\r\n\t\tfor (let i = 0; i < rowsArray.length; i++) {\r\n\t\t\ttbody.appendChild(rowsArray[i]);\r\n\t\t}\r\n\r\n\t\tgrid.appendChild(tbody);\r\n\r\n\t}\r\n\t\r\n});"]}