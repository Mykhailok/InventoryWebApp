{"version":3,"sources":["../../../js/src/script1.js"],"names":["myData","id","name","manufac","owner","price","descrip","grid","document","getElementById","tbody","rows","getElementsByTagName","Model","data","self","slice","editItem","item","index","length","removeItem","splice","View","model","init","renderList","htmlTableTemplate","innerHTML","list","_","template","listContent","Controller","view","wrapEdit","inpID","inpName","inpManufac","inpOwner","inpPrice","inpDescrip","btnShowEditPage","getElementsByClassName","btnEditSave","delBtn","i","addEventListener","getAttribute","tr","parentNode","deleteRow","rowIndex","value","setAttribute","onclick","EditSave","tempItem","td","controller","e","target","tagName","sortGrid","cellIndex","colNum","type","rowsArray","call","compare","rowA","rowB","cells","sort","removeChild","appendChild"],"mappings":"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","file":"script1.js","sourcesContent":["/**\r\n * Created by Shishkov on 26.06.2017.\r\n */\r\n\r\n'use strict';\r\nlet myData;\r\nmyData =[\r\n\r\n\t{\r\n\t\tid:1,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:2,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:3,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:4,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:5,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:6,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:7,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:8,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:9,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:10,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:11,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:12,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:13,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:14,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\r\n\t},\r\n\t{\r\n\t\tid:15,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:16,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t},\r\n\t{\r\n\t\tid:17,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'asus',\r\n\t\towner:'Masha',\r\n\t\tprice:1200,\r\n\t\tdescrip:'black'\r\n\t},\r\n\t{\r\n\t\tid:18,\r\n\t\tname:'notebook',\r\n\t\tmanufac:'hp',\r\n\t\towner:'Petya',\r\n\t\tprice:1000,\r\n\t\tdescrip:'white'\r\n\t},\r\n\t{\r\n\t\tid:19,\r\n\t\tname:'phone',\r\n\t\tmanufac:'philips',\r\n\t\towner:'Petya',\r\n\t\tprice:500,\r\n\t\tdescrip:'red'\r\n\t}\r\n\r\n];\r\nlet grid = document.getElementById('grid');\r\nlet tbody = document.getElementById('tbody');\r\nlet rows = tbody.getElementsByTagName('tr');\r\nfunction Model(data) {\r\n\tlet self = this;\r\n\tself.data = data.slice();\r\n\tself.editItem = function (item,index) {\r\n\t\tif (item.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.data[index].id = item.id;\r\n\t\tself.data[index].name = item.name;\r\n\t\tself.data[index].manufac = item.manufac;\r\n\t\tself.data[index].owner = item.owner;\r\n\t\tself.data[index].price = item.price;\r\n\t\tself.data[index].descrip = item.descrip;\r\n\t};\r\n\tself.removeItem = function (index) {\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tself.data.splice(index,1);\r\n\t\treturn self.data;\r\n\t};\r\n}\r\n/////////////////////////////////////////////////////////////////\r\nfunction View(model) {\r\n\tlet self = this;\r\n\tfunction init() {\r\n\t\tself.renderList(model.data);\r\n\t}\r\n\tself.renderList = function (data) {\r\n\t\tlet htmlTableTemplate = document.getElementById('table-template').innerHTML;\r\n\t\t// let tbody = document.getElementsByClassName('ttbody');//НЕ РАБОТАЕТ\r\n\t\tlet list = _.template(htmlTableTemplate);\r\n\t\tlet listContent = list({'data':data});\r\n\t\ttbody.innerHTML = listContent;\r\n\t};\r\n\tinit();\r\n}\r\n///////////////////////////////////////////////////////////////////////\r\nfunction Controller(model,view) {\r\n\tlet wrapEdit = document.getElementById('wrEdit');\r\n\tlet inpID = document.getElementById('editId');\r\n\tlet inpName = document.getElementById('editName');\r\n\tlet inpManufac = document.getElementById('editManufac');\r\n\tlet inpOwner = document.getElementById('editOwner');\r\n\tlet inpPrice = document.getElementById('editPrice');\r\n\tlet inpDescrip = document.getElementById('editDescrip');\r\n\tlet btnShowEditPage = document.getElementsByClassName('btnShowEditPage');\r\n\tlet btnEditSave = document.getElementById('btnEditSave');\r\n\tlet delBtn = document.getElementsByClassName('delBtn');\r\n\r\n//удаляем строки\r\n\tfor (let i = 0; i < delBtn.length; i++) {\r\n\t\tdelBtn[i].addEventListener('click',function () {\r\n\t\t\tlet id = +delBtn[i].getAttribute('data-value');\r\n\t\t\tlet index;\r\n\t\t\tfor (let i  in model.data) {\r\n\t\t\t\tif (model.data[i].id === id) {\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tmodel.removeItem(index);\r\n\t\t\tlet tr = delBtn[i].parentNode.parentNode.parentNode;\r\n\t\t\tgrid.deleteRow(tr.rowIndex);\r\n\t\t})\r\n\t}\r\n//показываем станицу редактирования\r\n\t\tfor (let i = 0; i < btnShowEditPage.length; i++) {\r\n\t\t\tbtnShowEditPage[i].addEventListener('click',function () {\r\n\t\t\t\tlet id = +btnShowEditPage[i].getAttribute('data-value');\r\n\t\t\t\tlet index;\r\n\t\t\t\tfor (let i  in model.data) {\r\n\t\t\t\t\tif (model.data[i].id === id) {\r\n\t\t\t\t\t\tindex = i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tinpID.value = myData[index].id;\r\n\t\t\t\tinpName.value = myData[index].name;\r\n\t\t\t\tinpManufac.value = myData[index].manufac;\r\n\t\t\t\tinpOwner.value = myData[index].owner;\r\n\t\t\t\tinpPrice.value = myData[index].price;\r\n\t\t\t\tinpDescrip.value = myData[index].descrip;\r\n\t\t\t\twrapEdit.setAttribute('class', 'wrapEditVisible');\r\n\t\t\t})\r\n\t\t}\r\n//сохраняем изменения после редактирования\r\n\tbtnEditSave.onclick = function EditSave() {\r\n\t\twrapEdit.setAttribute('class','wrapEditHide');\r\n\t\tlet id = +inpID.value ;\r\n\t\tlet index ;\r\n\t\tfor (let i  in model.data) {\r\n\t\t\tif (model.data[i].id === id) {\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet tempItem ={};\r\n\r\n\t\t//редактируем поля элемента\r\n\t\ttempItem.id = inpID.value;\r\n\t\ttempItem.name = inpName.value;\r\n\t\ttempItem.manufac = inpManufac.value;\r\n\t\ttempItem.owner = inpOwner.value;\r\n\t\ttempItem.price = inpPrice.value;\r\n\t\ttempItem.descrip = inpDescrip.value;\r\n\t\tmodel.editItem(tempItem, index);\r\n\r\n//находим нужную строку\r\n\t\tfor (let i=0; i < rows.length ; i++){\r\n\t\t\tif(+rows[i].getAttribute('data-value') === id){\r\n\t\t\t\t//находим поля строки\r\n\t\t\t\tlet td = rows[i].getElementsByTagName('td');\r\n\t\t\t\t//перерисуем редактируемую строку\r\n\t\t\t\ttd[0].innerHTML = inpID.value;\r\n\t\t\t\ttd[1].innerHTML = inpName.value;\r\n\t\t\t\ttd[2].innerHTML = inpManufac.value;\r\n\t\t\t\ttd[3].innerHTML = inpOwner.value;\r\n\t\t\t\ttd[4].innerHTML = inpPrice.value;\r\n\t\t\t\ttd[5].innerHTML = inpDescrip.value;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n////////////////////////////////////////////////////////////////\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tlet model = new Model(myData);\r\n\tlet view = new View(model);\r\n\tlet controller = new Controller(model,view);\r\n\r\n\tgrid.onclick = function(e) {\r\n\t\tif (e.target.tagName !== 'TH') return;\r\n\r\n\t\t// Если TH -- сортируем\r\n\t\tsortGrid(e.target.cellIndex, e.target.getAttribute('data-type'));\r\n\t};\r\n\tfunction sortGrid(colNum, type) {\r\n\t\tlet tbody = grid.getElementsByTagName('tbody')[0];\r\n\r\n\t\t// Составить массив из TR\r\n\t\tlet rowsArray = [].slice.call(tbody.rows);\r\n\r\n\t\t// определить функцию сравнения, в зависимости от типа\r\n\t\tlet compare;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'number':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'string':\r\n\t\t\t\tcompare = function(rowA, rowB) {\r\n\t\t\t\t\treturn rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// сортировать\r\n\t\trowsArray.sort(compare);\r\n\r\n\t\t// Убрать tbody из большого DOM документа для лучшей производительности\r\n\t\tgrid.removeChild(tbody);\r\n\r\n\t\t// добавить результат в нужном порядке в TBODY\r\n\t\t// они автоматически будут убраны со старых мест и вставлены в правильном порядке\r\n\t\tfor (let i = 0; i < rowsArray.length; i++) {\r\n\t\t\ttbody.appendChild(rowsArray[i]);\r\n\t\t}\r\n\t\tgrid.appendChild(tbody);\r\n\t}\r\n});\r\n\r\n"]}